<!doctype html>
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.12.0/d3.min.js" type="text/JavaScript"></script>
  </head>
  <body>
    <svg></svg>
    <script>
      var width = 1500,
          height = 800;
      var scale =10000;
      var pointdata = {
            "type":"LineString",
            "coordinates": [
                [139.0592001,37.9120388],//新潟
                [139.2133381,37.9201075],//豊栄
                [139.2650216,37.9400908]//新発田
            ]
        }
      d3.json("japan_prefecture.geojson", createMap);

      function createMap(japan) {
        var aProjection = d3.geoMercator()
            .center([ 139.0, 38.6 ])
            .translate([width/2, height/2])
            .scale(scale);
        var geoPath = d3.geoPath().projection(aProjection);
        var svg = d3.select("svg").attr("width",width).attr("height",height);
        //マップ描画
        var map = svg.selectAll("path").data(japan.features)
          .enter()
          .append("path")
            .attr("d", geoPath)
            .style("stroke", "#797979")
            .style("stroke-width", 0.1)
            .style("fill", "#797979");

        var line = svg.selectAll(".ilne").data([pointdata])
            .enter()
            .append("path")
                .attr("d",geoPath)
                .style("stroke","red")
                .style("stroke-width",4.0)
                .style("fill","none");

        var point = svg.selectAll(".point").data(pointdata.coordinates)
            .enter()
            .append("circle")
                .attr("cx",function(d) { return aProjection(d)[0]; })
                .attr("cy",function(d) { return aProjection(d)[1]; })
                .attr("r",3)
                .style("stroke","black")
                .style("fill","white")
      }

    </script>
  </body>
</html>
